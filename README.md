
# Автоматический выключатель питания ТВ приёмника

Устройство представляет собой небольшое дополнение к приёмнику цифрового телевидения и позволяет автоматически управлять его питанием (включать/выключать) в зависимости от состояния телевизора (включен/выключен). Это позволяет, например, устранить ситуацию, когда после временного отключения электроэнергии приёмник включается и работает вхолостую. Или же когда его могут забыть выключить, просто погасив телевизор.

Микроконтроллер (далее МК) следит за наличием сигналов состояния приёмника и телевизора. Если телевизор выключен, а приёмник включен, то через заданное время МК подаёт команду на выключение приёмника (замыкает кнопку питания, имитируя её нажатие с помощью транзистора). В обратной ситуации, когда телевизор включен, а приёмник выключен, МК также ждёт некоторое время и подаёт команду на включение приёмника.

Трёхпозиционный тумблер задаёт режимы работы:
1. АвтоВЫКЛючение - неактивно, автоВКЛючение - неактивно. То есть ничего не делает.
2. АвтоВЫКЛючение - активно, автоВКЛючение - неактивно. Частичная функциональность.
3. АвтоВЫКЛючение - активно, автоВКЛючение - активно. Полная функциональность.

Электрическая схема:
![Schematic_tv_box_auto_power_switch](/Schematic_tv_box_auto_power_switch_2021-11-29.png "Schematic_tv_box_auto_power_switch_2021-11-29.png")

Сигнал состояния телевизора взят прямо с его платы (5 В) и выведен отдельным проводом, который подключается к устройству с помощью разъёма (в данном случае DC-005). Важно, чтобы этот сигнал был только тогда, когда телевизор именно включен, а не просто дежурное напряжение, которое присутствует всегда.

Сигнал состояния приёмника взят с его USB порта (также присутствует только в активном состоянии).

Питание устройства в данном случае осуществляется от самого приёмника и должно быть постоянным (дежурное напряжение).

В файле **_Label.odg_** (LibreOffice Draw) находится небольшая наклейка на корпус с пояснением положений тумблера.